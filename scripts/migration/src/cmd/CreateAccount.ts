import { MPCProvider } from "../provider/MPCProvider";
import { KeyPair } from "near-api-js";

const JWT_TOKEN =
    "eyJhbGciOiJSUzI1NiIsImtpZCI6IjlkMjEzMGZlZjAyNTg3ZmQ4ODYxODg2OTgyMjczNGVmNzZhMTExNjUiLCJ0eXAiOiJKV1QifQ.eyJuYW1lIjoiQWRyacOgIENhcnJlcmEiLCJwaWN0dXJlIjoiaHR0cHM6Ly9saDMuZ29vZ2xldXNlcmNvbnRlbnQuY29tL2EtL0FMVi1ValhEZm1QRURSWmoxcWNONUNUQnNySnNVQUc0UGZVMnN6eTFEeldPSW5feVg2cFl3MUgyaS1tY202cHhwMnBXb1dJeG9KbUZrQzFlVUJ0bjYweUF3cWt2UkJWNk9VNEFseTlmaTBNUWNLeldhMUFNaUl0SFZsSnRicmhGOXJSRjVXc1E1a1pYU0p3SkR3YTVwYURyUmJmbk53YURrSzVndTkwN1I0MHFkUmNFMTUza1hiVVJDUHUwekRYeWgtbFhtX2tJN3Q5MTV5V3d3NkNWYWhOeGJ3c05nUEZlRFVfSi16dmtKR2Iwek9BbkZWWG90bzZfMTJ0dW45MnVoQmVoV3FwQk40ZkhGUDh4dlgyWDN0UVNRRGtfQjBZMVdhSnZWNkQxU2NXUGFFTkZwX2ZFYm1TOUQ3NEl4R0dXREE5NzBxYmlHdTRZMVBaMEJLLWhDYWkzcXN0cFF6am1ZLVpwNmN1RlI2bDBRVjZEQ1BESDlkV3FZNm9WZnZOLVduYlRlLU1RN0VZSEsyVGtxalY3bWxJUkszdmpILVRfS0lZYzU4dGRJNjJZS2JtSXJmcHNDNUhUdFB2cWhtVFpKeERSMHNKNlJTWUNCaE9wNmI4a2lybkY3dDE3c0Iyd000QjNMa0N3RHZWVTFJWnJnaFVLdzlCNHFfdVZMLXdKNUNBQzNaeUwwbEV5ZDNMSENQZEtoLXpWZXBaWHVfVThOZjZsYVZEUW83dWZPN2RScm00WDBCczM4ZTJfY0c5bnJqNlRqckdwaHcwaWVmZmt3d0Vzd3JIN01oS1dRYWhUMjF3MG9oeTZKUF9RWVBzMy0tZHgyU0dYcnhKY1hwUHVkQzQ1ektBTHFhUl9YUFRpT0RUU0FLeF9NOUl6LTRTc2hRY18zeEF5SzE0UkVmb2lqaGVmZGlwamxNVkllblk0WXlJMXM1VVdQQVNEb3Zka3FXQklQVTNCdjl2ZmI5ZndlTVo2c0VOZHFzeHRvMjdET1dHdVFXZVV1ZUdvdkZlc1ljRjZQa0JGS1JLQnNnUk9XX3htbUU3STQ5R2ZaZWJGck5DN2xWTU83WXhadlhRSi1TNXktcHJvV1FyLUpUckF0TUhWbkJIQ1ozdmh6WW5nUFp0dEh4c1FTWWgzSl9BemJ6RzMxcEVEX0U2cTZ4QmdNOVNXWDJEYzh6Vmx3Nm0tSjdrZnlZb21SMDV5TExHcmY4aGdUN3FNUlpiSlZVVXVrdzRtUzhUTHl4Q09lOVZsbkt3RVpOR3VVenB2Zy1MdWhaNUl1UlZWUHdfd0VOMXpnTm9lck5tSk5WdFpOVVdycDVrR29VS2Z0MVhva2NkSEVnNnJ4QT1zOTYtYyIsImlzcyI6Imh0dHBzOi8vc2VjdXJldG9rZW4uZ29vZ2xlLmNvbS9uZWFyLW1vYmlsZS05OWUzOCIsImF1ZCI6Im5lYXItbW9iaWxlLTk5ZTM4IiwiYXV0aF90aW1lIjoxNzYwOTcwMjAzLCJ1c2VyX2lkIjoiaThnTnpSY0liUmQ4RjQ5azlQZDhwWnZlZGxrMiIsInN1YiI6Imk4Z056UmNJYlJkOEY0OWs5UGQ4cFp2ZWRsazIiLCJpYXQiOjE3NjA5NzAyMDMsImV4cCI6MTc2MDk3MzgwMywiZW1haWwiOiJhY2FycmVyYUBwZWVyc3lzdC5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZmlyZWJhc2UiOnsiaWRlbnRpdGllcyI6eyJnb29nbGUuY29tIjpbIjEwMjM2NzA3MzMxNTEzNTAzODQ1MyJdLCJlbWFpbCI6WyJhY2FycmVyYUBwZWVyc3lzdC5jb20iXX0sInNpZ25faW5fcHJvdmlkZXIiOiJnb29nbGUuY29tIn19.cpDd-3LAr7TJ1qzJ9RzyPElY0JGFnqaemnScK64Znh3wvH7WgVRiMHw0txBv6AAPcTP5yClRbGaDlUFgs2UlragGYfpLX7Zp42_uyu_FEBQF6WpQwE2RDCabu4_3OA_fBpTeKg9ZK5RzoqkBloRLSPZRk0vl8Xiqli4LqCuNAkkimZtBdCouAGN-S4PS4Xn71h-db7ZWiFR7clkY9jwHvxwQN7CdK5GXAuIzTbO2JAsh5uEB6x01Us5_myuwlcFdDcnk6YPa7ya_FhlY-vaue2gmFWhiPXh77akXLcJb7r83bu4U4Ukug74Zv9KDbh3pPRdmleRRKfEwpHuNhgILpQ";

(async () => {
    const keyPair = KeyPair.fromString("ed25519:MHz6wrZAegmeCXT6frJCJLYtGy39pz48JFeu2R1zKpeS74PVbaCXnZ1h8cCNzt9yyr2rq9DFswJWx7gWD5gRgFd");
    const mpc = new MPCProvider("https://mpc.mainnet.sig.network", keyPair, 3177899144);
    const claimOidcTokenRes = await mpc.claimOidcToken(JWT_TOKEN);
    console.log(claimOidcTokenRes);
    const userCredentials = await mpc.userCredentials(JWT_TOKEN);
    console.log(userCredentials);
})();
